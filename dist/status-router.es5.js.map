{"version":3,"file":"status-router.es5.js","sources":["../src/status-router.ts"],"sourcesContent":["import * as express from \"express\";\nimport { Response } from \"express\";\nimport * as fs from \"fs\";\n\nconst router = express.Router();\n\nexport const health = (_: any, res: Response) => {\n    res.json({ message: \"OK\" });\n};\n\nexport const version = (_: any, res: Response) => {\n    const json = JSON.parse(fs.readFileSync(\"package.json\", \"utf8\"));\n    const version = json.version;\n    const info = {\n        commit: process.env.GIT_COMMIT,\n        packageVersion: version,\n    };\n    res.json(info);\n};\n\nrouter.get(\"/health\", health);\nrouter.get(\"/version\", version);\n\nexport default router;\n\n"],"names":["express.Router","fs.readFileSync"],"mappings":";;;AAIA,IAAM,MAAM,GAAGA,MAAc,EAAE,CAAC;AAEhC,IAAa,MAAM,GAAG,UAAC,CAAM,EAAE,GAAa;IACxC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;CAC/B,CAAC;AAEF,IAAa,OAAO,GAAG,UAAC,CAAM,EAAE,GAAa;IACzC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAACC,YAAe,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC;IACjE,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC7B,IAAM,IAAI,GAAG;QACT,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;QAC9B,cAAc,EAAE,OAAO;KAC1B,CAAC;IACF,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CAClB,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AAC9B,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;;;;;"}