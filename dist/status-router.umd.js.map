{"version":3,"file":"status-router.umd.js","sources":["../src/status-router.ts"],"sourcesContent":["import * as express from \"express\";\nimport { Response } from \"express\";\nimport * as fs from \"fs\";\n\nconst router = express.Router();\n\nexport const health = (_: any, res: Response) => {\n    res.json({ message: \"OK\" });\n};\n\nexport const version = (_: any, res: Response) => {\n    const json = JSON.parse(fs.readFileSync(\"package.json\", \"utf8\"));\n    const version = json.version;\n    const info = {\n        commit: process.env.GIT_COMMIT,\n        packageVersion: version,\n    };\n    res.json(info);\n};\n\nrouter.get(\"/health\", health);\nrouter.get(\"/version\", version);\n\nexport default router;\n\n"],"names":["express.Router","fs.readFileSync"],"mappings":";;;;;;IAIA,IAAM,MAAM,GAAGA,cAAc,EAAE,CAAC;AAEhC,QAAa,MAAM,GAAG,UAAC,CAAM,EAAE,GAAa;QACxC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAChC,CAAC,CAAC;AAEF,QAAa,OAAO,GAAG,UAAC,CAAM,EAAE,GAAa;QACzC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAACC,eAAe,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC;QACjE,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAM,IAAI,GAAG;YACT,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;YAC9B,cAAc,EAAE,OAAO;SAC1B,CAAC;QACF,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC;IAEF,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;;;;;;;;;;;;;;"}